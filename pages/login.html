<!DOCTYPE html>
<html>
<head>
  <title>Sign Up</title>
</head>
<body>
  <h1>Log In</h1>
  <form id="login-form">
    <input type="text" name="email" placeholder="Enter email" required />
    <input type="password" name="password" placeholder="Enter password" required />
    <button type="submit">Log In</button>
  </form>

  <h1>Sign Up</h1>
  <form id="signup-form">
    <input type="text" name="email" placeholder="Enter email" required />
    <input type="password" name="password" placeholder="Enter password" required />
    <button type="submit">Sign up</button>
  </form>

  <script>
  const loginForm = document.getElementById("login-form");
  const signupForm = document.getElementById("signup-form");

  loginForm.addEventListener("submit", async function (event) {
    event.preventDefault();

    const formData = new FormData(loginForm);
    const response = await fetch("http://127.0.0.1:8000/login", {
      method: "POST",
      body: formData,
    });

    const result = await response.json();
    console.log(result);

    if (result.message === "Login successful") {
      window.location.href = "home.html"; // üîÅ Redirect
    } else {
      alert(result.message); // show error
    }
  });

  signupForm.addEventListener("submit", async function (event) {
    event.preventDefault();

    const formData = new FormData(signupForm);
    const response = await fetch("http://127.0.0.1:8000/signup", {
      method: "POST",
      body: formData,
    });

    const result = await response.json();
    console.log(result);

    if (result.message === "Sign up successful") {
      window.location.href = "home.html"; // üîÅ Redirect
    } else {
      alert("Signup failed");
    }
  });
</script>

</body>
</html>
